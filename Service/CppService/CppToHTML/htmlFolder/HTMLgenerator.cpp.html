<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>HTMLgenerator.cpp</title>
</head>
<body>
    <div>/////////////////////////////////////////////////////////////////////<br>//&nbspHTMLgenerator.cpp&nbsp-&nbspgenerater&nbsphtml&nbspfile&nbspfor&nbspa&nbsp.h&nbspor&nbsp.cpp&nbspfile&nbsp&nbsp&nbsp//<br>//&nbspver&nbsp1.2&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp//<br>//&nbspplatform:&nbspWin&nbsp10&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp//&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<br>//&nbspXing&nbspZhou,&nbspwork.xingzhou@gmail.com,&nbspSyracuse&nbspUniversity&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp//<br>//&nbspApplication:&nbspMEAN&nbspstack&nbspusing&nbspC++&nbspto&nbspanalyze&nbspcode&nbspmetrics&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp//<br>/////////////////////////////////////////////////////////////////////<br><br>#include&nbsp&quotHTMLgenerator.h&quot<br><br><br>using&nbspPath&nbsp=&nbspstd::string;<br>using&nbspFile&nbsp=&nbspstd::string;<br><br>//&nbsptransfer&nbspfrom&nbspcpp&nbspsource&nbsptext&nbspto&nbsphtml&nbspcontent<br>void&nbspHTMLgenerator::transferFileType(File&nbspin_fileName)&nbsp{<br>&nbsp&nbsp&nbsp&nbspFile&nbspcppFileContent&nbsp=&nbspthis-&gtreadFileContent(in_fileName);<br>&nbsp&nbsp&nbsp&nbspif&nbsp(cppFileContent&nbsp==&nbsp&quot&quot)&nbsp{<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn;<br>&nbsp&nbsp&nbsp&nbsp}<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent);<br>&nbsp&nbsp&nbsp&nbspFile&nbspshortName&nbsp=&nbspFileSystem::Path::getName(in_fileName);<br>&nbsp&nbsp&nbsp&nbspstd::vector&ltFile&gt&nbspplaceholder&nbsp=&nbsp{&nbspshortName,&nbspcppFileContent&nbsp};<br>&nbsp&nbsp&nbsp&nbspFile&nbsphtmlFileContent&nbsp=&nbspinjectPlaceHolderIntoTemplate(placeholder);<br>&nbsp&nbsp&nbsp&nbspFile&nbsphtmlFileName&nbsp=&nbspgetHTMLFileName(in_fileName);<br>&nbsp&nbsp&nbsp&nbspstoreFileContent(htmlFileName,&nbsphtmlFileContent);<br>&nbsp&nbsp&nbsp&nbsp//removeFile(in_fileName);<br>}<br><br>void&nbspHTMLgenerator::replaceSymbol(File&amp&nbspcppFileContent)&nbsp{<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot&amp&quot,&nbsp&quot&ampamp&quot);<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot&lt&quot,&nbsp&quot&amplt&quot);<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot&gt&quot,&nbsp&quot&ampgt&quot);<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot\n&quot,&nbsp&quot&ltbr&gt&quot);<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot\&quot&quot,&nbsp&quot&ampquot&quot);<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot\t&quot,&nbsp&quot&ampnbsp&ampnbsp&ampnbsp&ampnbsp&quot);<br>&nbsp&nbsp&nbsp&nbspreplaceSymbol(cppFileContent,&nbsp&quot&nbsp&quot,&nbsp&quot&ampnbsp&quot);<br>}<br><br>//void&nbspHTMLgenerator::removeFile&nbsp(const&nbspstd::string&amp&nbspin_filename)&nbsp{<br>//&nbsp&nbsp&nbsp&nbspFileSystem::File::remove(in_filename);<br>//}<br><br><br>//&nbspstore&nbspfile&nbspcontent<br><br>inline&nbspvoid&nbspHTMLgenerator::storeFileContent(File&nbspin_htmlFileName,&nbspFile&nbspin_htmlContent)&nbsp{<br><br>&nbsp&nbsp&nbsp&nbspif&nbsp(!FileSystem::Directory::exists(_htmlDestFolder))&nbsp{<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspFileSystem::Directory::create(_htmlDestFolder);<br>&nbsp&nbsp&nbsp&nbsp}<br>&nbsp&nbsp&nbsp&nbsp<br><br>&nbsp&nbsp&nbsp&nbspFile&nbspfileName&nbsp=&nbspFileSystem::Path::getName(in_htmlFileName);<br>&nbsp&nbsp&nbsp&nbspFile&nbspnewFilePath&nbsp=&nbsp&nbspFileSystem::Path::fileSpec(_htmlDestFolder,&nbspfileName);<br>&nbsp&nbsp&nbsp&nbspstd::ofstream&nbsphtmlFile(newFilePath);<br>&nbsp&nbsp&nbsp&nbsphtmlFile&nbsp&lt&lt&nbspin_htmlContent;<br>&nbsp&nbsp&nbsp&nbsphtmlFile.close();<br>}<br><br>//&nbspinject&nbspplaceholder&nbspinto&nbsphtml&nbsptemplate<br><br>inline&nbspFile&nbspHTMLgenerator::injectPlaceHolderIntoTemplate(std::vector&ltFile&gt&nbspin_placeholder)&nbsp{<br>&nbsp&nbsp&nbsp&nbspFile&nbsphtmlContent&nbsp=&nbsp_templateHTML;<br>&nbsp&nbsp&nbsp&nbspFile&nbspfileName&nbsp=&nbspin_placeholder[0];<br>&nbsp&nbsp&nbsp&nbspFile&nbspfileContent&nbsp=&nbspin_placeholder[1];<br><br>&nbsp&nbsp&nbsp&nbspsize_t&nbspposOfFileName&nbsp=&nbsphtmlContent.find(std::string(&quot&lttitle&gt&quot))&nbsp+&nbsp7;<br>&nbsp&nbsp&nbsp&nbsphtmlContent.insert(posOfFileName,&nbspfileName);<br><br>&nbsp&nbsp&nbsp&nbspsize_t&nbspposOfFileContent&nbsp=&nbsphtmlContent.find(std::string(&quot&ltdiv&gt&quot))&nbsp+&nbsp5;<br>&nbsp&nbsp&nbsp&nbsphtmlContent.insert(posOfFileContent,&nbspfileContent);<br>&nbsp&nbsp&nbsp&nbspreturn&nbsphtmlContent;<br>}<br><br>//&nbspchange&nbsp\n&nbspto&nbsp&ltbr&gt&nbsp,&nbspspace&nbsptpo&nbsp&ampnbsp<br><br>inline&nbspvoid&nbspHTMLgenerator::replaceSymbol(File&nbsp&amp&nbspin_FileContent,&nbspFile&nbspin_old,&nbspFile&nbspin_new)&nbsp{<br><br>&nbsp&nbsp&nbsp&nbspsize_t&nbspp&nbsp=&nbsp0;<br>&nbsp&nbsp&nbsp&nbspwhile&nbsp(p&nbsp&lt&nbspin_FileContent.size())&nbsp{<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspp&nbsp=&nbspin_FileContent.find(std::string(in_old),&nbspp);<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspif&nbsp(p&nbsp==&nbspstd::string::npos)&nbspbreak;<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspin_FileContent.replace(p,&nbspin_old.size(),&nbspin_new);<br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspp&nbsp+=&nbspin_new.size();<br>&nbsp&nbsp&nbsp&nbsp}<br>}<br><br>//&nbsptransfer&nbspcpp&nbspfile&nbspname&nbspto&nbsphtml&nbspfile&nbspname&nbsp<br><br>inline&nbspFile&nbspHTMLgenerator::getHTMLFileName(File&nbspcpp_fileName)&nbsp{<br><br>&nbsp&nbsp&nbsp&nbspFile&nbsphtmlFileName&nbsp=&nbspcpp_fileName&nbsp+&nbsp&quot.html&quot;<br>&nbsp&nbsp&nbsp&nbspreturn&nbsphtmlFileName;<br>}<br><br><br><br><br>#ifdef&nbspTEST_HTMLGENERATOR<br><br>int&nbspmain()<br>{<br>&nbsp&nbsp&nbsp&nbspreturn&nbsp0;<br>&nbsp&nbsp&nbsp&nbsp<br>}<br><br>#endif</div>
</body>
</html>
