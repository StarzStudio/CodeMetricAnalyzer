{"version":3,"sources":["css.js"],"names":[],"mappings":"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","file":"css-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine(function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar CssBehaviour = function () {\n\n    this.inherit(CstyleBehaviour);\n\n    this.add(\"colon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === ':') {\n                    return {\n                       text: '',\n                       selection: [1, 1]\n                    }\n                }\n                if (!line.substring(cursor.column).match(/^\\s*;/)) {\n                    return {\n                       text: ':;',\n                       selection: [1, 1]\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"colon\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar === ';') {\n                    range.end.column ++;\n                    return range;\n                }\n            }\n        }\n    });\n\n    this.add(\"semicolon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ';') {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === ';') {\n                return {\n                   text: '',\n                   selection: [1, 1]\n                }\n            }\n        }\n    });\n\n}\noop.inherits(CssBehaviour, CstyleBehaviour);\n\nexports.CssBehaviour = CssBehaviour;\n});\n"]}