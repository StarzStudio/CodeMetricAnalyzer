{"version":3,"sources":["html.js"],"names":[],"mappings":"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","file":"html-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine(function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextMode = require(\"./text\").Mode;\nvar JavaScriptMode = require(\"./javascript\").Mode;\nvar CssMode = require(\"./css\").Mode;\nvar HtmlHighlightRules = require(\"./html_highlight_rules\").HtmlHighlightRules;\nvar XmlBehaviour = require(\"./behaviour/xml\").XmlBehaviour;\nvar HtmlFoldMode = require(\"./folding/html\").FoldMode;\nvar HtmlCompletions = require(\"./html_completions\").HtmlCompletions;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\n\n// http://www.w3.org/TR/html5/syntax.html#void-elements\nvar voidElements = [\"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"menuitem\", \"param\", \"source\", \"track\", \"wbr\"];\nvar optionalEndTags = [\"li\", \"dt\", \"dd\", \"p\", \"rt\", \"rp\", \"optgroup\", \"option\", \"colgroup\", \"td\", \"th\"];\n\nvar Mode = function(options) {\n    this.fragmentContext = options && options.fragmentContext;\n    this.HighlightRules = HtmlHighlightRules;\n    this.$behaviour = new XmlBehaviour();\n    this.$completer = new HtmlCompletions();\n    \n    this.createModeDelegates({\n        \"js-\": JavaScriptMode,\n        \"css-\": CssMode\n    });\n    \n    this.foldingRules = new HtmlFoldMode(this.voidElements, lang.arrayToMap(optionalEndTags));\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.blockComment = {start: \"<!--\", end: \"-->\"};\n\n    this.voidElements = lang.arrayToMap(voidElements);\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        return this.$completer.getCompletions(state, session, pos, prefix);\n    };\n\n    this.createWorker = function(session) {\n        if (this.constructor != Mode)\n            return;\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/html_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        if (this.fragmentContext)\n            worker.call(\"setOptions\", [{context: this.fragmentContext}]);\n\n        worker.on(\"error\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/html\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n"]}