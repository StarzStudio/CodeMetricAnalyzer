{"version":3,"sources":["ejs.js"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAO,UAAS,OAAT,EAAkB,OAAlB,EAA2B,MAA3B,EAAmC;AAC1C;;AAEA,QAAI,MAAM,QAAQ,YAAR,CAAV;AACA,QAAI,qBAAqB,QAAQ,wBAAR,EAAkC,kBAA3D;AACA,QAAI,2BAA2B,QAAQ,8BAAR,EAAwC,wBAAvE;;AAEA,QAAI,oBAAoB,SAApB,iBAAoB,CAAS,KAAT,EAAgB,GAAhB,EAAqB;AACzC,2BAAmB,IAAnB,CAAwB,IAAxB;;AAEA,YAAI,CAAC,KAAL,EACI,QAAQ,gBAAR;AACJ,YAAI,CAAC,GAAL,EACI,MAAM,gBAAN;;AAEJ,aAAK,IAAI,CAAT,IAAc,KAAK,MAAnB,EAA2B;AACvB,iBAAK,MAAL,CAAY,CAAZ,EAAe,OAAf,CAAuB;AACnB,uBAAQ,sBADW;AAEnB,uBAAQ,QAAQ,eAFG;AAGnB,sBAAQ;AAHW,aAAvB;AAKH;;AAED,aAAK,UAAL,CAAgB,IAAI,wBAAJ,CAA6B,EAAC,KAAK,KAAN,EAA7B,EAA2C,QAA3C,EAAhB,EAAuE,MAAvE,EAA+E,CAAC;AAC5E,mBAAQ,sBADoE;AAE5E,mBAAQ,OAAO,GAF6D;AAG5E,kBAAQ;AAHoE,SAAD,EAI5E;AACC,mBAAO,SADR;AAEC,mBAAO,UAAU,GAFlB;AAGC,kBAAM;AAHP,SAJ4E,CAA/E;;AAUA,aAAK,cAAL;AACH,KA3BD;;AA8BA,QAAI,QAAJ,CAAa,iBAAb,EAAgC,kBAAhC;;AAEA,YAAQ,iBAAR,GAA4B,iBAA5B;;AAGA,QAAI,MAAM,QAAQ,YAAR,CAAV;AACA,QAAI,WAAW,QAAQ,QAAR,EAAkB,IAAjC;AACA,QAAI,iBAAiB,QAAQ,cAAR,EAAwB,IAA7C;AACA,QAAI,UAAU,QAAQ,OAAR,EAAiB,IAA/B;AACA,QAAI,WAAW,QAAQ,QAAR,EAAkB,IAAjC;;AAEA,QAAI,OAAO,SAAP,IAAO,GAAW;AAClB,iBAAS,IAAT,CAAc,IAAd;AACA,aAAK,cAAL,GAAsB,iBAAtB;AACA,aAAK,mBAAL,CAAyB;AACrB,mBAAO,cADc;AAErB,oBAAQ,OAFa;AAGrB,oBAAQ;AAHa,SAAzB;AAKH,KARD;AASA,QAAI,QAAJ,CAAa,IAAb,EAAmB,QAAnB;;AAEA,KAAC,YAAW;;AAER,aAAK,GAAL,GAAW,cAAX;AACH,KAHD,EAGG,IAHH,CAGQ,KAAK,SAHb;;AAKA,YAAQ,IAAR,GAAe,IAAf;AACC,CAjED","file":"ejs-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2012, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n\ndefine(function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar HtmlHighlightRules = require(\"./html_highlight_rules\").HtmlHighlightRules;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\n\nvar EjsHighlightRules = function(start, end) {\n    HtmlHighlightRules.call(this);\n    \n    if (!start)\n        start = \"(?:<%|<\\\\?|{{)\";\n    if (!end)\n        end = \"(?:%>|\\\\?>|}})\";\n\n    for (var i in this.$rules) {\n        this.$rules[i].unshift({\n            token : \"markup.list.meta.tag\",\n            regex : start + \"(?![>}])[-=]?\",\n            push  : \"ejs-start\"\n        });\n    }\n    \n    this.embedRules(new JavaScriptHighlightRules({jsx: false}).getRules(), \"ejs-\", [{\n        token : \"markup.list.meta.tag\",\n        regex : \"-?\" + end,\n        next  : \"pop\"\n    }, {\n        token: \"comment\",\n        regex: \"//.*?\" + end,\n        next: \"pop\"\n    }]);\n    \n    this.normalizeRules();\n};\n\n\noop.inherits(EjsHighlightRules, HtmlHighlightRules);\n\nexports.EjsHighlightRules = EjsHighlightRules;\n\n\nvar oop = require(\"../lib/oop\");\nvar HtmlMode = require(\"./html\").Mode;\nvar JavaScriptMode = require(\"./javascript\").Mode;\nvar CssMode = require(\"./css\").Mode;\nvar RubyMode = require(\"./ruby\").Mode;\n\nvar Mode = function() {\n    HtmlMode.call(this);\n    this.HighlightRules = EjsHighlightRules;    \n    this.createModeDelegates({\n        \"js-\": JavaScriptMode,\n        \"css-\": CssMode,\n        \"ejs-\": JavaScriptMode\n    });\n};\noop.inherits(Mode, HtmlMode);\n\n(function() {\n\n    this.$id = \"ace/mode/ejs\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});"]}