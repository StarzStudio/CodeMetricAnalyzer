{"version":3,"sources":["xml_test.js"],"names":[],"mappings":"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","file":"xml_test-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\nif (typeof process !== \"undefined\")\n    require(\"amd-loader\");\n\ndefine(function(require, exports, module) {\n\"use strict\";\n\nvar XmlMode = require(\"../xml\").Mode;\nvar EditSession = require(\"../../edit_session\").EditSession;\nvar assert = require(\"../../test/assertions\");\n\nmodule.exports = {\n\n    \"test: fold multi line self closing element\": function() {\n        var session = new EditSession([\n            '<person',\n            '  firstname=\"fabian\"',\n            '  lastname=\"jakobs\"/>'\n        ]);\n        \n        var mode = new XmlMode();\n        session.setFoldStyle(\"markbeginend\");\n        session.setMode(mode);\n        \n        assert.equal(session.getFoldWidget(0), \"start\");\n        assert.equal(session.getFoldWidget(1), \"\");\n        assert.equal(session.getFoldWidget(2), \"end\");\n        \n        assert.range(session.getFoldWidgetRange(0), 0, 8, 2, 19);\n        assert.range(session.getFoldWidgetRange(2), 0, 8, 2, 19);\n    },\n    \n    \"test: fold should skip self closing elements\": function() {\n        var session = new EditSession([\n            '<person>',\n            '  <attrib value=\"fabian\"/>',\n            '</person>'\n        ]);\n        \n        var mode = new XmlMode();\n        session.setFoldStyle(\"markbeginend\");\n        session.setMode(mode);\n        \n        assert.equal(session.getFoldWidget(0), \"start\");\n        assert.equal(session.getFoldWidget(1), \"\");\n        assert.equal(session.getFoldWidget(2), \"end\");\n        \n        assert.range(session.getFoldWidgetRange(0), 0, 8, 2, 0);\n        assert.range(session.getFoldWidgetRange(2), 0, 8, 2, 0);\n    },\n    \n    \"test: fold should skip multi line self closing elements\": function() {\n        var session = new EditSession([\n            '<person>',\n            '  <attib',\n            '     key=\"name\"',\n            '     value=\"fabian\"/>',\n            '</person>'\n        ]);\n        \n        var mode = new XmlMode();\n        session.setMode(mode);\n        session.setFoldStyle(\"markbeginend\");\n        \n        assert.equal(session.getFoldWidget(0), \"start\");\n        assert.equal(session.getFoldWidget(1), \"start\");\n        assert.equal(session.getFoldWidget(2), \"\");\n        assert.equal(session.getFoldWidget(3), \"end\");\n        assert.equal(session.getFoldWidget(4), \"end\");\n        \n        assert.range(session.getFoldWidgetRange(0), 0, 8, 4, 0);\n        assert.range(session.getFoldWidgetRange(1), 1, 9, 3, 19);\n        assert.range(session.getFoldWidgetRange(3), 1, 9, 3, 19);\n        assert.range(session.getFoldWidgetRange(4), 0, 8, 4, 0);\n    }\n};\n\n});\n\nif (typeof module !== \"undefined\" && module === require.main)\n    require(\"asyncjs\").test.testcase(module.exports).exec();\n"]}