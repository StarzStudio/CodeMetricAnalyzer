{"version":3,"sources":["haskell_cabal.js"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;;;AAIA,OAAO,UAAS,OAAT,EAAkB,OAAlB,EAA2B,MAA3B,EAAmC;AAC1C;;AAEA,MAAI,MAAM,QAAQ,eAAR,CAAV;AACA,MAAI,eAAe,QAAQ,aAAR,EAAuB,QAA1C;AACA,MAAI,QAAQ,QAAQ,aAAR,EAAuB,KAAnC;;AAEA,MAAI,WAAW,QAAQ,QAAR,GAAmB,YAAW,CAAE,CAA/C;AACA,MAAI,QAAJ,CAAa,QAAb,EAAuB,YAAvB;;AAEA,GAAC,YAAW;AACV;;;AAGA,SAAK,SAAL,GAAiB,UAAU,OAAV,EAAkB,GAAlB,EAAuB;AACpC,UAAI,UAAU,gBAAd;AACA,UAAI,QAAQ,QAAQ,SAAR,CAAkB,GAAlB,EAAuB,CAAvB,CAAZ;AACA,aAAO,OAAK,CAAL,IAAW,SAAS,MAAM,IAAN,CAAW,WAAX,CAAuB,OAAvB,EAAgC,CAAhC,MAAuC,CAAlE;AACH,KAJD;;AAMA,SAAK,aAAL,GAAqB,UAAS,OAAT,EAAkB,SAAlB,EAA6B,GAA7B,EAAkC;AACnD,UAAI,KAAK,SAAL,CAAe,OAAf,EAAuB,GAAvB,CAAJ,EAAgC;AAC9B,eAAO,OAAP;AACD,OAFD,MAEO,IAAI,cAAc,cAAd,IAAgC,CAAE,QAAQ,IAAR,CAAa,QAAQ,OAAR,CAAgB,GAAhB,CAAb,CAAtC,EAA0E;AAC/E,YAAI,SAAS,QAAQ,SAAR,EAAb;AACA,eAAO,EAAE,GAAF,GAAQ,MAAf,EAAuB;AACrB,cAAI,CAAE,QAAQ,IAAR,CAAa,QAAQ,OAAR,CAAgB,GAAhB,CAAb,CAAN,EAA0C;AACtC;AACH;AACF;AACD,YAAI,OAAK,MAAL,IAAe,KAAK,SAAL,CAAe,OAAf,EAAuB,GAAvB,CAAnB,EAA+C;AAC7C,iBAAO,KAAP;AACD;AACF;AACD,aAAO,EAAP;AACH,KAfD;;AAkBA,SAAK,kBAAL,GAA0B,UAAS,OAAT,EAAkB,SAAlB,EAA6B,GAA7B,EAAkC;AACxD,UAAI,OAAO,QAAQ,OAAR,CAAgB,GAAhB,CAAX;AACA,UAAI,cAAc,KAAK,MAAvB;AACA,UAAI,SAAS,QAAQ,SAAR,EAAb;AACA,UAAI,WAAW,GAAf;AACA,UAAI,SAAS,GAAb;AACA;AACA,UAAI,KAAK,SAAL,CAAe,OAAf,EAAuB,GAAvB,CAAJ,EAAiC;AAC7B,eAAO,EAAE,GAAF,GAAQ,MAAf,EAAuB;AACnB,cAAI,KAAK,SAAL,CAAe,OAAf,EAAuB,GAAvB,CAAJ,EAAgC;AAC9B;AACA;AACD;AACJ;;AAED,iBAAS,GAAT;AACA;AACA,YAAI,SAAS,QAAb,EAAuB;AACnB,iBAAO,SAAS,QAAT,IAAqB,QAAQ,IAAR,CAAa,QAAQ,OAAR,CAAgB,MAAhB,CAAb,CAA5B;AACI;AADJ;AAEH;;AAED,YAAI,SAAS,QAAb,EAAuB;AACnB,cAAI,YAAY,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,MAAxC;AACA,iBAAO,IAAI,KAAJ,CAAU,QAAV,EAAoB,WAApB,EAAiC,MAAjC,EAAyC,SAAzC,CAAP;AACH;AACL;AACC,OApBD,MAoBO,IAAI,KAAK,aAAL,CAAmB,OAAnB,EAA4B,SAA5B,EAAuC,GAAvC,MAA8C,KAAlD,EAAwD;AAC7D,YAAI,SAAS,GAAb;AACA,YAAI,YAAY,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,MAAxC;AACA,eAAO,EAAE,GAAF,IAAO,CAAd,EAAgB;AACd,cAAI,KAAK,SAAL,CAAe,OAAf,EAAuB,GAAvB,CAAJ,EAAgC;AAC9B;AACD;AACF;AACD,YAAI,OAAO,QAAQ,OAAR,CAAgB,GAAhB,CAAX;AACA,YAAI,cAAc,KAAK,MAAvB;AACA,eAAO,IAAI,KAAJ,CAAU,GAAV,EAAe,WAAf,EAA4B,MAA5B,EAAoC,SAApC,CAAP;AACD;AACF,KAvCH;AAyCD,GArED,EAqEG,IArEH,CAqEQ,SAAS,SArEjB;AAuEC,CAjFD","file":"haskell_cabal-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n/*\n* Folding mode for Cabal files (Haskell): allow folding each seaction, including\n* the initial general section.\n*/\ndefine(function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n  /**\n  is the row a heading?\n  */\n  this.isHeading = function (session,row) {\n      var heading = \"markup.heading\";\n      var token = session.getTokens(row)[0];\n      return row==0 || (token && token.type.lastIndexOf(heading, 0) === 0);\n  };\n\n  this.getFoldWidget = function(session, foldStyle, row) {\n      if (this.isHeading(session,row)){\n        return \"start\";\n      } else if (foldStyle === \"markbeginend\" && !(/^\\s*$/.test(session.getLine(row)))){\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n          if (!(/^\\s*$/.test(session.getLine(row)))){\n              break;\n          }\n        }\n        if (row==maxRow || this.isHeading(session,row)){\n          return \"end\";\n        }\n      }\n      return \"\";\n  };\n\n\n  this.getFoldWidgetRange = function(session, foldStyle, row) {\n      var line = session.getLine(row);\n      var startColumn = line.length;\n      var maxRow = session.getLength();\n      var startRow = row;\n      var endRow = row;\n      // go until next heading\n      if (this.isHeading(session,row)) {\n          while (++row < maxRow) {\n              if (this.isHeading(session,row)){\n                row--;\n                break;\n              }\n          }\n\n          endRow = row;\n          // remove empty lines at end\n          if (endRow > startRow) {\n              while (endRow > startRow && /^\\s*$/.test(session.getLine(endRow)))\n                  endRow--;\n          }\n\n          if (endRow > startRow) {\n              var endColumn = session.getLine(endRow).length;\n              return new Range(startRow, startColumn, endRow, endColumn);\n          }\n      // go back to heading\n      } else if (this.getFoldWidget(session, foldStyle, row)===\"end\"){\n        var endRow = row;\n        var endColumn = session.getLine(endRow).length;\n        while (--row>=0){\n          if (this.isHeading(session,row)){\n            break;\n          }\n        }\n        var line = session.getLine(row);\n        var startColumn = line.length;\n        return new Range(row, startColumn, endRow, endColumn);\n      }\n    };\n\n}).call(FoldMode.prototype);\n\n});\n"]}