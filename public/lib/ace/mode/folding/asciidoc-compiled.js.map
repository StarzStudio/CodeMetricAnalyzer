{"version":3,"sources":["asciidoc.js"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAO,UAAS,OAAT,EAAkB,OAAlB,EAA2B,MAA3B,EAAmC;AAC1C;;AAEA,QAAI,MAAM,QAAQ,eAAR,CAAV;AACA,QAAI,eAAe,QAAQ,aAAR,EAAuB,QAA1C;AACA,QAAI,QAAQ,QAAQ,aAAR,EAAuB,KAAnC;;AAEA,QAAI,WAAW,QAAQ,QAAR,GAAmB,YAAW,CAAE,CAA/C;AACA,QAAI,QAAJ,CAAa,QAAb,EAAuB,YAAvB;;AAEA,KAAC,YAAW;AACR,aAAK,kBAAL,GAA0B,4CAA1B;AACA,aAAK,mBAAL,GAA2B,kBAA3B;;AAEA,aAAK,aAAL,GAAqB,UAAS,OAAT,EAAkB,SAAlB,EAA6B,GAA7B,EAAkC;AACnD,gBAAI,OAAO,QAAQ,OAAR,CAAgB,GAAhB,CAAX;AACA,gBAAI,CAAC,KAAK,kBAAL,CAAwB,IAAxB,CAA6B,IAA7B,CAAL,EACI,OAAO,EAAP;;AAEJ,gBAAI,KAAK,CAAL,KAAW,GAAf,EAAoB;AAChB,oBAAI,KAAK,mBAAL,CAAyB,IAAzB,CAA8B,IAA9B,CAAJ,EACI,OAAO,OAAP;AACJ,oBAAI,QAAQ,OAAR,CAAgB,MAAM,CAAtB,EAAyB,MAAzB,IAAmC,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,MAA5D,EACI,OAAO,EAAP;AACJ,uBAAO,OAAP;AACH;AACD,gBAAI,QAAQ,WAAR,CAAoB,QAApB,CAA6B,GAA7B,KAAqC,yBAAzC,EACI,OAAO,KAAP;AACJ,mBAAO,OAAP;AACH,SAfD;;AAiBA,aAAK,kBAAL,GAA0B,UAAS,OAAT,EAAkB,SAAlB,EAA6B,GAA7B,EAAkC;AACxD,gBAAI,OAAO,QAAQ,OAAR,CAAgB,GAAhB,CAAX;AACA,gBAAI,cAAc,KAAK,MAAvB;AACA,gBAAI,SAAS,QAAQ,SAAR,EAAb;AACA,gBAAI,WAAW,GAAf;AACA,gBAAI,SAAS,GAAb;AACA,gBAAI,CAAC,KAAK,KAAL,CAAW,KAAK,kBAAhB,CAAL,EACI;;AAEJ,gBAAI,KAAJ;AACA,qBAAS,YAAT,CAAsB,GAAtB,EAA2B;AACvB,wBAAQ,QAAQ,SAAR,CAAkB,GAAlB,EAAuB,CAAvB,CAAR;AACA,uBAAO,SAAS,MAAM,IAAtB;AACH;;AAED,gBAAI,SAAS,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,CAAb;AACA,gBAAI,UAAU,gBAAd;AACA,gBAAI,sBAAsB,KAAK,mBAA/B;AACA,qBAAS,QAAT,GAAoB;AAChB,oBAAI,QAAQ,MAAM,KAAN,CAAY,KAAZ,CAAkB,mBAAlB,CAAZ;AACA,oBAAI,KAAJ,EACI,OAAO,MAAM,CAAN,EAAS,MAAhB;AACJ,oBAAI,QAAQ,OAAO,OAAP,CAAe,MAAM,KAAN,CAAY,CAAZ,CAAf,IAAiC,CAA7C;AACA,oBAAI,SAAS,CAAb,EAAgB;AACZ,wBAAI,QAAQ,OAAR,CAAgB,MAAM,CAAtB,EAAyB,MAAzB,IAAmC,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,MAA5D,EACI,OAAO,QAAP;AACP;AACD,uBAAO,KAAP;AACH;;AAED,gBAAI,aAAa,GAAb,KAAqB,OAAzB,EAAkC;AAC9B,oBAAI,oBAAoB,UAAxB;AACA,uBAAO,EAAE,GAAF,GAAQ,MAAf,EAAuB;AACnB,wBAAI,aAAa,GAAb,KAAqB,OAAzB,EACI;AACJ,wBAAI,QAAQ,UAAZ;AACA,wBAAI,SAAS,iBAAb,EACI;AACP;;AAED,oBAAI,sBAAsB,SAAS,MAAM,KAAN,CAAY,KAAZ,CAAkB,KAAK,mBAAvB,CAAnC;AACA,yBAAS,sBAAsB,MAAM,CAA5B,GAAgC,MAAM,CAA/C;;AAEA,oBAAI,SAAS,QAAb,EAAuB;AACnB,2BAAO,SAAS,QAAT,KAAsB,CAAC,aAAa,MAAb,CAAD,IAAyB,MAAM,KAAN,CAAY,CAAZ,KAAkB,GAAjE,CAAP;AACI;AADJ;AAEH;;AAED,oBAAI,SAAS,QAAb,EAAuB;AACnB,wBAAI,YAAY,QAAQ,OAAR,CAAgB,MAAhB,EAAwB,MAAxC;AACA,2BAAO,IAAI,KAAJ,CAAU,QAAV,EAAoB,WAApB,EAAiC,MAAjC,EAAyC,SAAzC,CAAP;AACH;AACJ,aAtBD,MAsBO;AACH,oBAAI,QAAQ,QAAQ,WAAR,CAAoB,QAApB,CAA6B,GAA7B,CAAZ;AACA,oBAAI,SAAS,yBAAb,EAAwC;AACpC,2BAAO,QAAS,CAAhB,EAAmB;AACf,4BAAI,QAAQ,WAAR,CAAoB,QAApB,CAA6B,GAA7B,EAAkC,WAAlC,CAA8C,OAA9C,KAA0D,CAAC,CAA/D,EACI;AACP;AACD,6BAAS,MAAM,CAAf;AACA,wBAAI,SAAS,QAAb,EAAuB;AACnB,4BAAI,YAAY,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,MAArC;AACA,+BAAO,IAAI,KAAJ,CAAU,MAAV,EAAkB,CAAlB,EAAqB,QAArB,EAA+B,cAAc,CAA7C,CAAP;AACH;AACJ,iBAVD,MAUO;AACH,2BAAO,EAAE,GAAF,GAAQ,MAAf,EAAuB;AACnB,4BAAI,QAAQ,WAAR,CAAoB,QAApB,CAA6B,GAA7B,KAAqC,yBAAzC,EACI;AACP;AACD,6BAAS,GAAT;AACA,wBAAI,SAAS,QAAb,EAAuB;AACnB,4BAAI,YAAY,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,MAArC;AACA,+BAAO,IAAI,KAAJ,CAAU,QAAV,EAAoB,CAApB,EAAuB,MAAvB,EAA+B,YAAY,CAA3C,CAAP;AACH;AACJ;AACJ;AACJ,SA5ED;AA8EH,KAnGD,EAmGG,IAnGH,CAmGQ,SAAS,SAnGjB;AAqGC,CA/GD","file":"asciidoc-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine(function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n    this.foldingStartMarker = /^(?:\\|={10,}|[\\.\\/=\\-~^+]{4,}\\s*$|={1,5} )/;\n    this.singleLineHeadingRe = /^={1,5}(?=\\s+\\S)/;\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (!this.foldingStartMarker.test(line))\n            return \"\"\n\n        if (line[0] == \"=\") {\n            if (this.singleLineHeadingRe.test(line))\n                return \"start\";\n            if (session.getLine(row - 1).length != session.getLine(row).length)\n                return \"\";\n            return \"start\";\n        }\n        if (session.bgTokenizer.getState(row) == \"dissallowDelimitedBlock\")\n            return \"end\";\n        return \"start\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        var startColumn = line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        if (!line.match(this.foldingStartMarker))\n            return;\n\n        var token;\n        function getTokenType(row) {\n            token = session.getTokens(row)[0];\n            return token && token.type;\n        }\n\n        var levels = [\"=\",\"-\",\"~\",\"^\",\"+\"];\n        var heading = \"markup.heading\";\n        var singleLineHeadingRe = this.singleLineHeadingRe;\n        function getLevel() {\n            var match = token.value.match(singleLineHeadingRe);\n            if (match)\n                return match[0].length;\n            var level = levels.indexOf(token.value[0]) + 1;\n            if (level == 1) {\n                if (session.getLine(row - 1).length != session.getLine(row).length)\n                    return Infinity;\n            }\n            return level;\n        }\n\n        if (getTokenType(row) == heading) {\n            var startHeadingLevel = getLevel();\n            while (++row < maxRow) {\n                if (getTokenType(row) != heading)\n                    continue;\n                var level = getLevel();\n                if (level <= startHeadingLevel)\n                    break;\n            }\n\n            var isSingleLineHeading = token && token.value.match(this.singleLineHeadingRe);\n            endRow = isSingleLineHeading ? row - 1 : row - 2;\n\n            if (endRow > startRow) {\n                while (endRow > startRow && (!getTokenType(endRow) || token.value[0] == \"[\"))\n                    endRow--;\n            }\n\n            if (endRow > startRow) {\n                var endColumn = session.getLine(endRow).length;\n                return new Range(startRow, startColumn, endRow, endColumn);\n            }\n        } else {\n            var state = session.bgTokenizer.getState(row);\n            if (state == \"dissallowDelimitedBlock\") {\n                while (row -- > 0) {\n                    if (session.bgTokenizer.getState(row).lastIndexOf(\"Block\") == -1)\n                        break;\n                }\n                endRow = row + 1;\n                if (endRow < startRow) {\n                    var endColumn = session.getLine(row).length;\n                    return new Range(endRow, 5, startRow, startColumn - 5);\n                }\n            } else {\n                while (++row < maxRow) {\n                    if (session.bgTokenizer.getState(row) == \"dissallowDelimitedBlock\")\n                        break;\n                }\n                endRow = row;\n                if (endRow > startRow) {\n                    var endColumn = session.getLine(row).length;\n                    return new Range(startRow, 5, endRow, endColumn - 5);\n                }\n            }\n        }\n    };\n\n}).call(FoldMode.prototype);\n\n});\n"]}