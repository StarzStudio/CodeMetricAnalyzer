{"version":3,"sources":["app_config.js"],"names":[],"mappings":"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","file":"app_config-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\ndefine(function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            optionNames = Object.keys(this.$options);\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    // module loading\n    oop.implement(this, EventEmitter);\n    /*\n     * option {name, value, initialValue, setterName, set, get }\n     */\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n\n        // implement option provider interface\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n"]}