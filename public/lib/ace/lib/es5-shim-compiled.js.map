{"version":3,"sources":["es5-shim.js"],"names":[],"mappings":"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","file":"es5-shim-compiled.js","sourcesContent":["// https://github.com/kriskowal/es5-shim\n// Copyright 2009-2012 by contributors, MIT License\n\ndefine(function(require, exports, module) {\n\n/*\n * Brings an environment as close to ECMAScript 5 compliance\n * as is possible with the facilities of erstwhile engines.\n *\n * Annotated ES5: http://es5.github.com/ (specific links below)\n * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n */\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var bound = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n        // XXX bound.length is never writable, so don't even try\n        //\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    };\n}\n\n// Shortcut to an often accessed properties, in order to avoid multiple\n// dereference that costs universally.\n// _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n// us it in defining shortcuts.\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\n// Having a toString local variable name breaks in Opera so use _toString.\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.12\n// Default value for second param\n// [bugfix, ielt9, old browsers]\n// IE < 9 bug: [1,2].splice(0).join(\"\") == \"\" but should be \"12\"\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n        // else {\n        // IE8 bug\n        // }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        // taken from http://docs.sencha.com/ext-js/4-1/source/Array2.html\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n\n            // we try to use Array.push when we can for efficiency...\n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\n\n// The IsCallable() check in the Array functions\n// has been replaced with a strict check on the\n// internal class of the object to trap cases where\n// the provided function was actually a regular\n// expression literal, which in V8 and\n// JavaScriptCore is a typeof \"function\".  Only in\n// V8 are regular expression literals permitted as\n// reduce parameters, so it is desirable in the\n// general case for the shim to match the more\n// strict and common behavior of rejecting regular\n// expressions.\n\n// ES5 15.4.4.18\n// http://es5.github.com/#x15.4.4.18\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n// Check failure of by-index access of string characters (IE < 9)\n// and failure of `0 in boxedString` (Rhino)\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\n\n// ES5 15.4.4.19\n// http://es5.github.com/#x15.4.4.19\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\n\n// ES5 15.4.4.20\n// http://es5.github.com/#x15.4.4.20\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\n\n// ES5 15.4.4.16\n// http://es5.github.com/#x15.4.4.16\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\n\n// ES5 15.4.4.17\n// http://es5.github.com/#x15.4.4.17\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\n// ES5 15.4.4.21\n// http://es5.github.com/#x15.4.4.21\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value and an empty array\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\n\n// ES5 15.4.4.22\n// http://es5.github.com/#x15.4.4.22\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value, empty array\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\n// ES5 15.4.4.15\n// http://es5.github.com/#x15.4.4.15\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        // handle negative indices\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\n//\n// Object\n// ======\n//\n\n// ES5 15.2.3.2\n// http://es5.github.com/#x15.2.3.2\nif (!Object.getPrototypeOf) {\n    // https://github.com/kriskowal/es5-shim/issues#issue/2\n    // http://ejohn.org/blog/objectgetprototypeof/\n    // recommended by fschaefer on github\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\n\n// ES5 15.2.3.3\n// http://es5.github.com/#x15.2.3.3\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        // If object does not owns property return undefined immediately.\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n\n        // If object has a property then it's for sure both `enumerable` and\n        // `configurable`.\n        descriptor =  { enumerable: true, configurable: true };\n\n        // If JS engine supports accessor properties then property may be a\n        // getter or setter.\n        if (supportsAccessors) {\n            // Unfortunately `__lookupGetter__` will return a getter even\n            // if object has own non getter property along with a same named\n            // inherited getter. To avoid misbehavior we temporary remove\n            // `__proto__` so that `__lookupGetter__` will return getter only\n            // if it's owned by an object.\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n\n            // Once we have getter and setter we can put values back.\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n\n                // If it was accessor property we're done and return here\n                // in order to avoid adding `value` to the descriptor.\n                return descriptor;\n            }\n        }\n\n        // If we got this far we know that object has an own property that is\n        // not an accessor so we set it as a value and return descriptor.\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\n\n// ES5 15.2.3.4\n// http://es5.github.com/#x15.2.3.4\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\n\n// ES5 15.2.3.5\n// http://es5.github.com/#x15.2.3.5\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        // In old IE __proto__ can't be used to manually set `null`\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            // IE has no built-in implementation of `Object.getPrototypeOf`\n            // neither `__proto__`, but this manually setting `__proto__` will\n            // guarantee that `Object.getPrototypeOf` will work as expected with\n            // objects created using `Object.create`\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\n// ES5 15.2.3.6\n// http://es5.github.com/#x15.2.3.6\n\n// Patch for WebKit and IE8 standard mode\n// Designed by hax <hax.github.com>\n// related issue: https://github.com/kriskowal/es5-shim/issues#issue/5\n// IE8 Reference:\n//     http://msdn.microsoft.com/en-us/library/dd282900.aspx\n//     http://msdn.microsoft.com/en-us/library/dd229916.aspx\n// WebKit Bugs:\n//     https://bugs.webkit.org/show_bug.cgi?id=36423\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n// check whether defineProperty works if it's given. Otherwise,\n// shim partially.\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n\n        // make a valiant attempt to use the real defineProperty\n        // for I8's DOM elements.\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If it's a data property.\n        if (owns(descriptor, \"value\")) {\n            // fail silently if \"writable\", \"enumerable\", or \"configurable\"\n            // are requested but not supported\n            /*\n            // alternate approach:\n            if ( // can't implement these features; allow false but not true\n                !(owns(descriptor, \"writable\") ? descriptor.writable : true) ||\n                !(owns(descriptor, \"enumerable\") ? descriptor.enumerable : true) ||\n                !(owns(descriptor, \"configurable\") ? descriptor.configurable : true)\n            )\n                throw new RangeError(\n                    \"This implementation of Object.defineProperty does not \" +\n                    \"support configurable, enumerable, or writable.\"\n                );\n            */\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                // As accessors are supported only on engines implementing\n                // `__proto__` we can safely override `__proto__` while defining\n                // a property to make sure that we don't hit an inherited\n                // accessor.\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                // Deleting a property anyway since getter / setter may be\n                // defined on object itself.\n                delete object[property];\n                object[property] = descriptor.value;\n                // Setting original `__proto__` back now.\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            // If we got that far then getters and setters can be defined !!\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\n\n// ES5 15.2.3.7\n// http://es5.github.com/#x15.2.3.7\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.8\n// http://es5.github.com/#x15.2.3.8\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.9\n// http://es5.github.com/#x15.2.3.9\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// detect a Rhino bug and patch it\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\n\n// ES5 15.2.3.10\n// http://es5.github.com/#x15.2.3.10\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.11\n// http://es5.github.com/#x15.2.3.11\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.12\n// http://es5.github.com/#x15.2.3.12\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.13\n// http://es5.github.com/#x15.2.3.13\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        // 1. If Type(O) is not Object throw a TypeError exception.\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        // 2. Return the Boolean value of the [[Extensible]] internal property of O.\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\n\n// ES5 15.2.3.14\n// http://es5.github.com/#x15.2.3.14\nif (!Object.keys) {\n    // http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\n\n//\n// most of es5-shim Date section is removed since ace doesn't need it, it is too intrusive and it causes problems for users\n// ====\n//\n\n// ES5 15.9.4.4\n// http://es5.github.com/#x15.9.4.4\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\n\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.20\n// http://es5.github.com/#x15.5.4.20\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim || ws.trim()) {\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\n\n// ES5 9.9\n// http://es5.github.com/#x9.9\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n"]}