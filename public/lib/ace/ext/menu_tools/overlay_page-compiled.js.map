{"version":3,"sources":["overlay_page.js"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;;AAEA;;;;;;;;;;AAUA,OAAO,UAAS,OAAT,EAAkB,OAAlB,EAA2B,MAA3B,EAAmC;AAC1C;;AACA,QAAI,MAAM,QAAQ,eAAR,CAAV;AACA,QAAI,UAAU,QAAQ,0CAAR,CAAd;AACA,QAAI,eAAJ,CAAoB,OAApB;;AAEA;;;;;;;;;;;;;AAaA,WAAO,OAAP,CAAe,WAAf,GAA6B,SAAS,WAAT,CAAqB,MAArB,EAA6B,cAA7B,EAA6C,GAA7C,EAAkD,KAAlD,EAAyD,MAAzD,EAAiE,IAAjE,EAAuE;AAChG,cAAM,MAAM,UAAU,GAAV,GAAgB,GAAtB,GAA4B,EAAlC;AACA,iBAAS,SAAS,aAAa,MAAb,GAAsB,GAA/B,GAAqC,EAA9C;AACA,gBAAQ,QAAQ,YAAY,KAAZ,GAAoB,GAA5B,GAAkC,EAA1C;AACA,eAAO,OAAO,WAAW,IAAX,GAAkB,GAAzB,GAA+B,EAAtC;;AAEA,YAAI,SAAS,SAAS,aAAT,CAAuB,KAAvB,CAAb;AACA,YAAI,mBAAmB,SAAS,aAAT,CAAuB,KAAvB,CAAvB;;AAEA,iBAAS,mBAAT,CAA6B,CAA7B,EAAgC;AAC5B,gBAAI,EAAE,OAAF,KAAc,EAAlB,EAAsB;AAClB,uBAAO,KAAP;AACH;AACJ;;AAED,eAAO,KAAP,CAAa,OAAb,GAAuB,4BACnB,oDADmB,GAEnB,iBAFmB,GAGnB,uCAHJ;AAIA,eAAO,gBAAP,CAAwB,OAAxB,EAAiC,YAAW;AACxC,qBAAS,mBAAT,CAA6B,SAA7B,EAAwC,mBAAxC;AACA,mBAAO,UAAP,CAAkB,WAAlB,CAA8B,MAA9B;AACA,mBAAO,KAAP;AACA,qBAAS,IAAT;AACH,SALD;AAMA;AACA,iBAAS,gBAAT,CAA0B,SAA1B,EAAqC,mBAArC;;AAEA,yBAAiB,KAAjB,CAAuB,OAAvB,GAAiC,MAAM,KAAN,GAAc,MAAd,GAAuB,IAAxD;AACA,yBAAiB,gBAAjB,CAAkC,OAAlC,EAA2C,UAAS,CAAT,EAAY;AACnD,cAAE,eAAF;AACH,SAFD;;AAIA,YAAI,UAAU,IAAI,aAAJ,CAAkB,KAAlB,CAAd;AACA,gBAAQ,KAAR,CAAc,QAAd,GAAyB,UAAzB;;AAEA,YAAI,cAAc,IAAI,aAAJ,CAAkB,KAAlB,CAAlB;AACA,oBAAY,SAAZ,GAAwB,iBAAxB;AACA,oBAAY,gBAAZ,CAA6B,OAA7B,EAAsC,YAAW;AAC7C,mBAAO,KAAP;AACH,SAFD;;AAIA,gBAAQ,WAAR,CAAoB,WAApB;AACA,yBAAiB,WAAjB,CAA6B,OAA7B;;AAEA,yBAAiB,WAAjB,CAA6B,cAA7B;AACA,eAAO,WAAP,CAAmB,gBAAnB;AACA,iBAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACA,eAAO,IAAP;AACH,KAjDD;AAmDC,CAtED","file":"overlay_page-compiled.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2013 Matthew Christopher Kastor-Inare III, Atropa Inc. Intl\n * All rights reserved.\n *\n * Contributed to Ajax.org under the BSD license.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n/*global define, require */\n\n/**\n * Overlay Page\n * @fileOverview Overlay Page <br />\n * Generates an overlay for displaying menus. The overlay is an absolutely\n *  positioned div.\n * @author <a href=\"mailto:matthewkastor@gmail.com\">\n *  Matthew Christopher Kastor-Inare III </a><br />\n *  ☭ Hial Atropa!! ☭\n */\n\ndefine(function(require, exports, module) {\n'use strict';\nvar dom = require(\"../../lib/dom\");\nvar cssText = require(\"../../requirejs/text!./settings_menu.css\");\ndom.importCssString(cssText);\n\n/**\n * Generates an overlay for displaying menus. The overlay is an absolutely\n *  positioned div.\n * @author <a href=\"mailto:matthewkastor@gmail.com\">\n *  Matthew Christopher Kastor-Inare III </a><br />\n *  ☭ Hial Atropa!! ☭\n * @param {DOMElement} contentElement Any element which may be presented inside\n *  a div.\n * @param {string|number} top absolute position value.\n * @param {string|number} right absolute position value.\n * @param {string|number} bottom absolute position value.\n * @param {string|number} left absolute position value.\n */\nmodule.exports.overlayPage = function overlayPage(editor, contentElement, top, right, bottom, left) {\n    top = top ? 'top: ' + top + ';' : '';\n    bottom = bottom ? 'bottom: ' + bottom + ';' : '';\n    right = right ? 'right: ' + right + ';' : '';\n    left = left ? 'left: ' + left + ';' : '';\n\n    var closer = document.createElement('div');\n    var contentContainer = document.createElement('div');\n\n    function documentEscListener(e) {\n        if (e.keyCode === 27) {\n            closer.click();\n        }\n    }\n\n    closer.style.cssText = 'margin: 0; padding: 0; ' +\n        'position: fixed; top:0; bottom:0; left:0; right:0;' +\n        'z-index: 9990; ' +\n        'background-color: rgba(0, 0, 0, 0.3);';\n    closer.addEventListener('click', function() {\n        document.removeEventListener('keydown', documentEscListener);\n        closer.parentNode.removeChild(closer);\n        editor.focus();\n        closer = null;\n    });\n    // click closer if esc key is pressed\n    document.addEventListener('keydown', documentEscListener);\n\n    contentContainer.style.cssText = top + right + bottom + left;\n    contentContainer.addEventListener('click', function(e) {\n        e.stopPropagation();\n    });\n\n    var wrapper = dom.createElement(\"div\");\n    wrapper.style.position = \"relative\";\n    \n    var closeButton = dom.createElement(\"div\");\n    closeButton.className = \"ace_closeButton\";\n    closeButton.addEventListener('click', function() {\n        closer.click();\n    });\n    \n    wrapper.appendChild(closeButton);\n    contentContainer.appendChild(wrapper);\n    \n    contentContainer.appendChild(contentElement);\n    closer.appendChild(contentContainer);\n    document.body.appendChild(closer);\n    editor.blur();\n};\n\n});"]}