{"version":3,"sources":["upload.client.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,cAAc,SAAd,WAAc,GAAY;AAC1B,YAAQ,GAAR,CAAY,cAAZ;AACA,QAAI,QAAQ,SAAS,aAAT,CAAuB,aAAvB,EAAsC,KAAlD;AACA,QAAI,WAAW,IAAI,QAAJ,EAAf;AAH0B;AAAA;AAAA;;AAAA;AAI1B,6BAAiB,KAAjB,8HAAwB;AAAA,gBAAf,IAAe;;AACpB,gBAAI,OAAO,KAAK,IAAhB;AACA,gBAAI,WAAW,IAAX,CAAJ,EAAsB;AAClB,yBAAS,MAAT,CAAgB,IAAhB,EAAsB,IAAtB;AACH;AACJ;AATyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAW1B,QAAI,MAAM,MAAN,KAAiB,CAArB,EAAwB;AACpB,gBAAQ,GAAR,CAAY,uBAAZ;AACA;AACH;;AAED,QAAI,UAAU,IAAI,cAAJ,EAAd;AACA,YAAQ,MAAR,GAAiB,YAAW;;AAExB;AACH,KAHD;;AAOA,YAAQ,kBAAR,GAA6B,YAAY;AAAE;AACvC,YAAI,QAAQ,UAAR,KAAuB,CAA3B,EAA8B;AAAE;AAC5B,gBAAI,QAAQ,MAAR,KAAmB,GAAvB,EAA4B;AACxB;AACA,uBAAO,QAAQ,QAAQ,YAAhB,CAAP;AACH,aAHD,MAGO;AACH;AACA,uBAAO,KAAK,QAAQ,MAAb,CAAP;AACH;AACJ,SARD,MAQO;AACH,oBAAQ,GAAR,CAAY,+BAAZ;AACP;AACA,KAZD;;AAcA;AACA,YAAQ,IAAR,CAAa,MAAb,EAAqB,EAArB,EAAyB,IAAzB;AACA,YAAQ,IAAR,CAAa,QAAb;AACH,CAzCD;;AA2CA,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AACpB,YAAQ,GAAR,CAAY,IAAZ;AACF;;AAED,SAAS,IAAT,CAAc,IAAd,EAAoB;AAChB,YAAQ,GAAR,CAAY,IAAZ;AACH;;AAGD,SAAS,UAAT,CAAoB,QAApB,EAA6B;;AAEzB,QAAI,SAAS,QAAT,CAAkB,IAAlB,KAA2B,CACvB,SAAS,QAAT,CAAkB,KAAlB,CADJ,IACgC,CAC5B,SAAS,QAAT,CAAkB,MAAlB,CAFJ,IAEiC,CAC7B,SAAS,QAAT,CAAkB,IAAlB,CAHJ,IAG+B,CAC3B,SAAS,QAAT,CAAkB,IAAlB,CAJR,EAIkC;;AAE9B,eAAO,IAAP;AACH,KAPD,MAOO;AACH,cAAM,2CACF,mEADJ;AAEA,eAAO,KAAP;AACH;AACJ","file":"upload.client-compiled.js","sourcesContent":["\"use strict\";\n\nvar uploadFiles = function () {\n    console.log(\"button click\");\n    var files = document.querySelector(\"#file_input\").files;\n    var formData = new FormData();\n    for (var file of files) {\n        var name = file.name;\n        if (fileFilter(name)) {\n            formData.append(name, file);\n        }\n    }\n\n    if (files.length === 0) {\n        console.log(\"no file input, return\")\n        return;\n    }\n\n    var request = new XMLHttpRequest();\n    request.onload = function() {\n\n        //alert(\"upload seccuess!\");\n    }\n\n\n\n    request.onreadystatechange = function () { // state change, callback\n        if (request.readyState === 4) { // state: done\n            if (request.status === 200) {\n                // success, get the return text\n                return success(request.responseText);\n            } else {\n                // 失败，根据响应码判断失败原因:\n                return fail(request.status);\n            }\n        } else {\n            console.log(\"http request is still ongoing\");\n    }\n    }\n\n    // make a request\n    request.open(\"POST\", \"\", true);\n    request.send(formData);\n};\n\nfunction success(text) {\n   console.log(text);\n}\n\nfunction fail(code) {\n    console.log(code);\n}\n\n\nfunction fileFilter(filename){\n\n    if (filename.endsWith('.h') || +\n            filename.endsWith('.cc') || +\n            filename.endsWith('.cpp') || +\n            filename.endsWith('.C') || +\n            filename.endsWith('.c') ) {\n\n        return true;\n    } else {\n        alert(' File: ${filename} is not accepted.\\n ' +\n            'Can only upload files with ex:\\n *.h\\n *.cc\\n *.cpp\\n *.C\\n *.c\\n');\n        return false;\n    }\n}\n\n\n\n"]}